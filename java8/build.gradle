
apply plugin: 'java'

apply from: "$rootDir/lib.gradle"

defaultTasks 'build'

repositories {
    mavenCentral()
}

task javadoc(type: Javadoc, overwrite: true) {
    def t = createDynamicJavadoc("$projectDir", ["core"])
    dependsOn(t)
}

dependencies {
    compile project(":core")
    testCompile "junit:junit:4.11"
}

compileJava {
    def jh = System.getenv("JAVA8_HOME")
    if (jh == null) {
        throw new Exception("JAVA8_HOME environment variable not set")
    }
    options.fork = true
    options.forkOptions.executable = "$jh/bin/javac"
}

